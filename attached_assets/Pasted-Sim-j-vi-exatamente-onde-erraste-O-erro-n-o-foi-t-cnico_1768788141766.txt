Sim ‚Äî j√° vi exatamente onde erraste üëç
O erro n√£o foi t√©cnico, foi de especifica√ß√£o do prompt:
o prompt explicava o problema muito bem, mas n√£o obrigava o modelo a tomar decis√µes corretas de produto e arquitetura.
Agora vamos corrigir isso.

Abaixo est√° um PROMPT REFEITO, muito mais forte, que for√ßa a IA a gerar uma app 100% funcional, sem cair outra vez no erro do c√≥digo curto.

Podes copiar e colar exatamente como est√°.

‚∏ª

‚úÖ PROMPT CORRIGIDO ‚Äî APP PLUS CODES 100% FUNCIONAL (SEM ERROS)

Contexto
Est√°s a desenvolver uma app mobile (Flutter) chamada Morada AO, focada em Angola, para gerar moradas digitais usando Plus Codes (Open Location Code).
A app deve funcionar corretamente em pa√≠ses grandes e com baixa cobertura de endere√ßos formais, evitando erros comuns onde o c√≥digo curto aponta para locais errados (oceano, outro pa√≠s, ‚Äúno espa√ßo‚Äù).

Objetivo
Criar uma app 100% funcional, robusta e correta, que:
	‚Ä¢	Gere Plus Codes reais a partir de GPS ou mapa
	‚Ä¢	Nunca produza links ou partilhas com localiza√ß√£o errada
	‚Ä¢	Eduque o utilizador de forma simples
	‚Ä¢	Priorize precis√£o sobre est√©tica

‚∏ª

üîπ 1. REGRAS OBRIGAT√ìRIAS (N√ÉO OPCIONAIS)

A app DEVE seguir estas regras t√©cnicas:
	‚Ä¢	O Plus Code FULL (global) √© a morada principal e oficial
	‚Ä¢	O Plus Code CURTO √© apenas auxiliar (para humanos)
	‚Ä¢	NUNCA permitir uso de c√≥digo curto sem refer√™ncia geogr√°fica
	‚Ä¢	NUNCA criar links https://plus.codes/SHORTCODE
	‚Ä¢	SEMPRE usar https://plus.codes/FULLCODE
	‚Ä¢	Se n√£o houver refer√™ncia (bairro/cidade), n√£o usar short
	‚Ä¢	O utilizador n√£o pode escrever Plus Codes manualmente
	‚Ä¢	Todos os c√≥digos devem ser gerados a partir de:
	‚Ä¢	GPS
	‚Ä¢	ou pin no mapa

‚∏ª

üîπ 2. FUNCIONALIDADES DA APP (FLUTTER)

2.1 Fluxo principal
	1.	Splash screen explicativa
	2.	Pedido de permiss√£o de localiza√ß√£o com motivo claro
	3.	Mapa OpenStreetMap (flutter_map)
	4.	Pin fixo no centro (arrastar mapa ajusta localiza√ß√£o)
	5.	Gera√ß√£o autom√°tica de:
	‚Ä¢	Coordenadas
	‚Ä¢	Plus Code FULL
	‚Ä¢	Plus Code CURTO (se poss√≠vel)

‚∏ª

2.2 Gera√ß√£o correta dos Plus Codes
	‚Ä¢	Usar biblioteca open_location_code
	‚Ä¢	Gerar:
	‚Ä¢	fullCode = encode(lat, lng)
	‚Ä¢	shortCode = shorten(fullCode, lat, lng) apenas se houver contexto

‚∏ª

2.3 Refer√™ncia geogr√°fica autom√°tica
	‚Ä¢	Usar reverse geocoding simples (Nominatim OSM)
	‚Ä¢	Extrair:
	‚Ä¢	bairro (se existir)
	‚Ä¢	sen√£o cidade
	‚Ä¢	sen√£o prov√≠ncia
	‚Ä¢	Nunca usar apenas o pa√≠s (‚ÄúAngola‚Äù) como refer√™ncia

‚∏ª

üîπ 3. UI / UX (OBRIGAT√ìRIO)

Mostrar claramente:

Morada segura (funciona sempre):
6G226F+3M

Morada curta (mais f√°cil de lembrar):
226F+3M ‚Äì adiciona o teu bairro

Adicionar aviso vis√≠vel:

‚ÄúO c√≥digo curto precisa do nome do bairro ou cidade para funcionar corretamente.‚Äù

‚∏ª

üîπ 4. PARTILHA CORRETA (WHATSAPP / SMS)

Formato obrigat√≥rio de partilha:

Minha morada:
226F+3M Cazenga, Luanda

Abre no mapa:
https://plus.codes/6G226F+3M

‚ö†Ô∏è O LINK USA SEMPRE O FULL CODE

‚∏ª

üîπ 5. Fallback AUTOM√ÅTICO

Se:
	‚Ä¢	bairro == null
	‚Ä¢	cidade == null

Ent√£o:
	‚Ä¢	‚ùå n√£o gerar short
	‚Ä¢	‚úÖ partilhar apenas o full

‚∏ª

üîπ 6. C√ìDIGO FLUTTER (EXEMPLO OBRIGAT√ìRIO)

Map<String, String> generateMorada(
  double lat,
  double lng,
  String? bairro,
  String? cidade,
) {
  final full = OpenLocationCode.encode(lat, lng);

  String? short;
  if (bairro != null || cidade != null) {
    short = OpenLocationCode.shorten(full, lat, lng);
  }

  return {
    'fullCode': full,
    'shortCode': short ?? '',
    'reference': bairro ?? cidade ?? '',
  };
}


‚∏ª

üîπ 7. EDUCA√á√ÉO DO UTILIZADOR (ANGOLA)

Adicionar mensagens simples como:
	‚Ä¢	‚ÄúMesmo que o nome do bairro n√£o apare√ßa, o c√≥digo Morada AO funciona sempre.‚Äù
	‚Ä¢	‚ÄúO c√≥digo curto √© mais f√°cil de lembrar, mas precisa do bairro.‚Äù

Usar exemplos reais:
	‚Ä¢	Cazenga
	‚Ä¢	Viana
	‚Ä¢	Maianga
	‚Ä¢	Kilamba
	‚Ä¢	Benguela

‚∏ª

üîπ 8. PROIBI√á√ïES CLARAS

A app N√ÉO PODE:
	‚Ä¢	Aceitar Plus Code digitado manualmente
	‚Ä¢	Gerar c√≥digo curto sem contexto
	‚Ä¢	Usar ‚ÄúAngola‚Äù como √∫nica refer√™ncia
	‚Ä¢	Confiar em reverse geocoding como verdade absoluta
	‚Ä¢	Mostrar apenas c√≥digo curto

‚∏ª

üîπ 9. RESULTADO ESPERADO

No final, a app deve:
	‚Ä¢	Gerar moradas sempre corretas
	‚Ä¢	Nunca mandar o utilizador para o oceano ou outro pa√≠s
	‚Ä¢	Funcionar em musseques e zonas sem nomes de ruas
	‚Ä¢	Ser confi√°vel para entregas e emerg√™ncias
	‚Ä¢	Estar pronta para uso real em Angola

‚∏ª

üî¥ RESUMO DO TEU ERRO (UMA FRASE)

N√£o obrigaste o sistema a tratar o Plus Code FULL como fonte √∫nica de verdade.

Agora este prompt n√£o deixa margem para erro.

Se quiseres, no pr√≥ximo passo posso:
	‚Ä¢	adaptar este prompt para Claude / GPT / Cursor
	‚Ä¢	gerar a app Flutter completa
	‚Ä¢	ou transformar isto no documento t√©cnico oficial da Morada AO

Diz-me qual √© o pr√≥ximo passo.